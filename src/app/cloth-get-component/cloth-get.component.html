<div class="p-grid p-fluid">
  <div class="p-col-12">
    <div class="card">
      <h1>List of Clothes</h1>

      <p-table *ngIf="clothes$ | async as clothes"
               [value]="clothes"
               [loading]="loading"
               [paginator]="true"
               [rows]="10"
               [rowsPerPageOptions]="[5, 10, 25, 50]"
               [sortField]="'createdTimestamp'"
               [sortOrder]="-1">
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="name" style="min-width: 14rem">
              <div class="flex justify-content-between align-items-center">
                Name
                <p-sortIcon field="name"></p-sortIcon>
                <p-columnFilter type="text" field="name" display="menu" class="ml-auto"></p-columnFilter>
              </div>
            </th>
            <th pSortableColumn="size" style="min-width: 14rem">
              <div class="flex justify-content-between align-items-center">
                Size
                <p-sortIcon field="size"></p-sortIcon>
                <p-columnFilter type="text" field="size" display="menu" class="ml-auto"></p-columnFilter>
              </div>
            </th>
            <th pSortableColumn="color" style="min-width: 14rem">
              <div class="flex justify-content-between align-items-center">
                Color
                <p-sortIcon field="color"></p-sortIcon>
                <p-columnFilter type="text" field="color" display="menu" class="ml-auto"></p-columnFilter>
              </div>
            </th>
            <th pSortableColumn="createdTimestamp" style="min-width: 10rem">
              <div class="flex justify-content-between align-items-center">
                Creation Date
                <p-sortIcon field="createdTimestamp"></p-sortIcon>
                <p-columnFilter type="text" field="createdTimestamp" display="menu" class="ml-auto"></p-columnFilter>
              </div>
            </th>
            <th pSortableColumn="updatedTimestamp" style="min-width: 10rem">
              <div class="flex justify-content-between align-items-center">
                Update Date
                <p-sortIcon field="updatedTimestamp"></p-sortIcon>
                <p-columnFilter type="text" field="updatedTimestamp" display="menu" class="ml-auto"></p-columnFilter>
              </div>
            </th>
            <th style="width: 5rem"></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-cloth>
          <tr class="p-selectable-row">
            <td>{{ cloth?.name }}</td>
            <td>{{ cloth?.size }}</td>
            <td>{{ cloth?.color }}</td>
            <td>{{ cloth?.createdTimestamp | date: 'yyyy-MM-dd HH:mm:ss' || 'N/A' }}</td>
            <td>{{ cloth?.updatedTimestamp | date: 'yyyy-MM-dd HH:mm:ss' || 'N/A' }}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7">No clothes found.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
